{
    "$schema": "/home/hopeit/dev/leosmerling/hopeit.engine/engine/config/schemas/app-config-schema-draftv6.json",
    "app": {
      "name": "client-example",
      "version": "${HOPEIT_APPS_API_VERSION}"
    },
    "plugins": [
        {"name": "basic-auth", "version": "${HOPEIT_APPS_API_VERSION}"}
    ],
    "engine" : {
        "track_headers": ["caller", "session_id"],
        "cors_origin": "*"
    }, 
    "app_connections": {
        "simple_example": {
            "name": "simple-example",
            "version": "${HOPEIT_APPS_API_VERSION}",
            "hosts": "${HOPEIT_SIMPLE_EXAMPLE_HOSTS}"
        }
    },
    "env": {
        "apps_client": {
            "circuit_breaker_open_failures": 10,
            "circuit_breaker_failure_reset_seconds": 70,
            "circuit_breaker_open_seconds": 60,
            "retries": 2,
            "retry_backoff_ms": 10,
            "ssl": true,
            "max_connections": 100,
            "max_connections_per_host": 0,
            "dns_cache_ttl": 10
        }
    },
    "events": {
        "count-somethings": {
            "type": "GET",
            "connections": [
                {
                    "app_connection": "simple_example",
                    "event": "list_somethings",
                    "type": "GET",
                    "route": "/api/{app_connections.simple_example.name}/0x8/list-somethings"
                }
            ],
            "auth": ["Bearer", "Basic"]
        }
    }
}
