{
  "openapi": "3.0.3",
  "info": {
    "version": "0.13",
    "title": "Simple Example",
    "description": "Simple Example"
  },
  "paths": {
    "/api/basic-auth/0x13/decode": {
      "get": {
        "summary": "Basic Auth: Decode",
        "description": "Returns decoded auth info",
        "parameters": [
          {
            "name": "X-Track-Request-Id",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Ts",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Ts",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Information extracted from token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContextUserInfo"
                }
              }
            }
          }
        },
        "tags": [
          "basic_auth.0x13"
        ],
        "security": [
          {
            "auth.bearer": []
          }
        ]
      }
    },
    "/api/config-manager/0x13/runtime-apps-config": {
      "get": {
        "summary": "Config Manager: Runtime Apps Config",
        "description": "Returns the runtime config for the Apps running on this server",
        "parameters": [
          {
            "name": "url",
            "in": "query",
            "required": false,
            "description": "URL used to reach this server, informative",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "expand_events",
            "in": "query",
            "required": false,
            "description": "Retrieve expanded effective events from event steps",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "X-Track-Request-Id",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Ts",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Ts",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Config info about running apps in current process",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RuntimeApps"
                }
              }
            }
          }
        },
        "tags": [
          "config_manager.0x13"
        ]
      }
    },
    "/api/config-manager/0x13/cluster-apps-config": {
      "get": {
        "summary": "Config Manager: Cluster Apps Config",
        "description": "Handle remote access to runtime configuration for a group of hosts",
        "parameters": [
          {
            "name": "hosts",
            "in": "query",
            "required": true,
            "description": "Comma-separated list of http://host:port strings",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "expand_events",
            "in": "query",
            "required": true,
            "description": "Extract effective events from event steps",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "X-Track-Request-Id",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Ts",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Ts",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Combined config info about running apps in provided list of hosts",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RuntimeApps"
                }
              }
            }
          }
        },
        "tags": [
          "config_manager.0x13"
        ]
      }
    },
    "/api/simple-example/0x13/list-somethings": {
      "get": {
        "summary": "Simple Example: List Objects",
        "description": "Lists all available Something objects",
        "parameters": [
          {
            "name": "wildcard",
            "in": "query",
            "required": false,
            "description": "Wildcard to filter objects by name",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Id",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Ts",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Ts",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "X-Track-Caller",
            "in": "header",
            "required": true,
            "description": "Track information: track.caller",
            "schema": {
              "type": "string",
              "default": "test.caller"
            }
          },
          {
            "name": "X-Track-Session-Id",
            "in": "header",
            "required": true,
            "description": "Track information: track.session_id",
            "schema": {
              "type": "string",
              "default": "test.session_id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Something"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "simple_example.0x13"
        ],
        "security": [
          {
            "auth.bearer": []
          }
        ]
      }
    },
    "/api/simple-example/0x13/query-something": {
      "get": {
        "summary": "Simple Example: Query Something",
        "description": "Loads Something from disk",
        "parameters": [
          {
            "name": "item_id",
            "in": "query",
            "required": true,
            "description": "Item Id to read",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Id",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Ts",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Ts",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "X-Track-Caller",
            "in": "header",
            "required": true,
            "description": "Track information: track.caller",
            "schema": {
              "type": "string",
              "default": "test.caller"
            }
          },
          {
            "name": "X-Track-Session-Id",
            "in": "header",
            "required": true,
            "description": "Track information: track.session_id",
            "schema": {
              "type": "string",
              "default": "test.session_id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Something object returned when found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Something"
                }
              }
            }
          },
          "404": {
            "description": "Information about not found object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SomethingNotFound"
                }
              }
            }
          }
        },
        "tags": [
          "simple_example.0x13"
        ],
        "security": [
          {
            "auth.bearer": []
          }
        ]
      },
      "post": {
        "summary": "Simple Example: Query Something Extended",
        "description": "Loads Something from disk, update status base on POST body.\nObjects is saved with updated status and history.",
        "parameters": [
          {
            "name": "item_id",
            "in": "query",
            "required": true,
            "description": "Item Id to read",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Id",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Ts",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Ts",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "X-Track-Caller",
            "in": "header",
            "required": true,
            "description": "Track information: track.caller",
            "schema": {
              "type": "string",
              "default": "test.caller"
            }
          },
          {
            "name": "X-Track-Session-Id",
            "in": "header",
            "required": true,
            "description": "Track information: track.session_id",
            "schema": {
              "type": "string",
              "default": "test.session_id"
            }
          }
        ],
        "requestBody": {
          "description": "Status change for the retrieved object",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Status"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Something object returned when found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Something"
                }
              }
            }
          },
          "404": {
            "description": "Information about not found object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SomethingNotFound"
                }
              }
            }
          }
        },
        "tags": [
          "simple_example.0x13"
        ],
        "security": [
          {
            "auth.bearer": []
          }
        ]
      }
    },
    "/api/simple-example/0x13/save-something": {
      "post": {
        "summary": "Simple Example: Save Something",
        "description": "Creates and saves Something",
        "parameters": [
          {
            "name": "X-Track-Request-Id",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Ts",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Ts",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "X-Track-Caller",
            "in": "header",
            "required": true,
            "description": "Track information: track.caller",
            "schema": {
              "type": "string",
              "default": "test.caller"
            }
          },
          {
            "name": "X-Track-Session-Id",
            "in": "header",
            "required": true,
            "description": "Track information: track.session_id",
            "schema": {
              "type": "string",
              "default": "test.session_id"
            }
          }
        ],
        "requestBody": {
          "description": "provide `id` and `user` to create Something",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SomethingParams"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "path where object is saved",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "save_something"
                  ],
                  "properties": {
                    "save_something": {
                      "type": "string"
                    }
                  },
                  "description": "save_something string payload"
                }
              }
            }
          },
          "400": {
            "description": "bad request reason",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "save_something"
                  ],
                  "properties": {
                    "save_something": {
                      "type": "string"
                    }
                  },
                  "description": "save_something string payload"
                }
              }
            }
          }
        },
        "tags": [
          "simple_example.0x13"
        ],
        "security": [
          {
            "auth.bearer": []
          }
        ]
      }
    },
    "/api/simple-example/0x13/download-something": {
      "get": {
        "summary": "Simple Example: Download Something",
        "description": "Download image file. The PostprocessHook return the requested file as stream.",
        "parameters": [
          {
            "name": "file_name",
            "in": "query",
            "required": true,
            "description": "return file name, try with something.png",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Id",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Ts",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Ts",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "X-Track-Caller",
            "in": "header",
            "required": true,
            "description": "Track information: track.caller",
            "schema": {
              "type": "string",
              "default": "test.caller"
            }
          },
          {
            "name": "X-Track-Session-Id",
            "in": "header",
            "required": true,
            "description": "Track information: track.session_id",
            "schema": {
              "type": "string",
              "default": "test.session_id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Return requested image file",
            "content": {
              "image/png": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "400": {
            "description": "Image file not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "download_something"
                  ],
                  "properties": {
                    "download_something": {
                      "type": "string"
                    }
                  },
                  "description": "download_something string payload"
                }
              }
            }
          }
        },
        "tags": [
          "simple_example.0x13"
        ],
        "security": [
          {
            "auth.bearer": []
          }
        ]
      }
    },
    "/api/simple-example/0x13/download-something-streamed": {
      "get": {
        "summary": "Simple Example: Download Something Streamed",
        "description": "Download streamd created content as file.\nThe PostprocessHook return the requested resource as stream using `prepare_stream_response`.",
        "parameters": [
          {
            "name": "file_name",
            "in": "query",
            "required": true,
            "description": "expected return file name",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Id",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Ts",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Ts",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "X-Track-Caller",
            "in": "header",
            "required": true,
            "description": "Track information: track.caller",
            "schema": {
              "type": "string",
              "default": "test.caller"
            }
          },
          {
            "name": "X-Track-Session-Id",
            "in": "header",
            "required": true,
            "description": "Track information: track.session_id",
            "schema": {
              "type": "string",
              "default": "test.session_id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Return random content with filename=`file_name`",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "tags": [
          "simple_example.0x13"
        ]
      }
    },
    "/api/simple-example/0x13/upload-something": {
      "post": {
        "summary": "Simple Example: Multipart Upload files",
        "description": "Upload files using Multipart form request",
        "parameters": [
          {
            "name": "something_id",
            "in": "query",
            "required": true,
            "description": "something_id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Id",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Ts",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Ts",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "X-Track-Caller",
            "in": "header",
            "required": true,
            "description": "Track information: track.caller",
            "schema": {
              "type": "string",
              "default": "test.caller"
            }
          },
          {
            "name": "X-Track-Session-Id",
            "in": "header",
            "required": true,
            "description": "Track information: track.session_id",
            "schema": {
              "type": "string",
              "default": "test.session_id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "id",
                  "user",
                  "attachment",
                  "object"
                ],
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "id"
                  },
                  "user": {
                    "type": "string",
                    "description": "user"
                  },
                  "attachment": {
                    "type": "string",
                    "format": "binary",
                    "description": "attachment"
                  },
                  "object": {
                    "$ref": "#/components/schemas/Something",
                    "description": "object"
                  }
                }
              },
              "encoding": {
                "id": {
                  "contentType": "text/plain"
                },
                "user": {
                  "contentType": "text/plain"
                },
                "attachment": {
                  "contentType": "application/octect-stream"
                },
                "object": {
                  "contentType": "application/json"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "list of created Something objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Something"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Missing or invalid fields",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "upload_something"
                  ],
                  "properties": {
                    "upload_something": {
                      "type": "string"
                    }
                  },
                  "description": "upload_something string payload"
                }
              }
            }
          }
        },
        "tags": [
          "simple_example.0x13"
        ],
        "security": [
          {
            "auth.bearer": []
          }
        ]
      }
    },
    "/api/simple-example/0x13/streams/something-event": {
      "post": {
        "summary": "Simple Example: Something Event",
        "description": "Submits a Something object to a stream to be processed asynchronously by process-events app event",
        "parameters": [
          {
            "name": "X-Track-Request-Id",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Ts",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Ts",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "X-Track-Caller",
            "in": "header",
            "required": true,
            "description": "Track information: track.caller",
            "schema": {
              "type": "string",
              "default": "test.caller"
            }
          },
          {
            "name": "X-Track-Session-Id",
            "in": "header",
            "required": true,
            "description": "Track information: track.session_id",
            "schema": {
              "type": "string",
              "default": "test.session_id"
            }
          }
        ],
        "requestBody": {
          "description": "Something object to submitted to stream",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Something"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Updated Something object with status submitted to string",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Something"
                }
              }
            }
          }
        },
        "tags": [
          "simple_example.0x13"
        ],
        "security": [
          {
            "auth.bearer": []
          }
        ]
      }
    },
    "/api/simple-example/0x13/collector/query-concurrently": {
      "post": {
        "summary": "Simple Example: Query Concurrently",
        "description": "Loads 2 Something objects concurrently from disk and combine the results\nusing `collector` steps constructor (instantiating an `AsyncCollector`)",
        "parameters": [
          {
            "name": "X-Track-Request-Id",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Ts",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Ts",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "X-Track-Caller",
            "in": "header",
            "required": true,
            "description": "Track information: track.caller",
            "schema": {
              "type": "string",
              "default": "test.caller"
            }
          },
          {
            "name": "X-Track-Session-Id",
            "in": "header",
            "required": true,
            "description": "Track information: track.session_id",
            "schema": {
              "type": "string",
              "default": "test.session_id"
            }
          }
        ],
        "requestBody": {
          "description": "Items to read concurrently",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ItemsInfo"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "List of one or two Something objects returned found, empty list if none is found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Something"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "simple_example.0x13"
        ],
        "security": [
          {
            "auth.bearer": []
          }
        ]
      }
    },
    "/api/simple-example/0x13/collector/collect-spawn": {
      "post": {
        "summary": "Simple Example: Collect and Spawn",
        "description": "Loads 2 Something objects concurrently from disk, combine the results\nusing `collector` steps constructor (instantiating an `AsyncCollector`)\nthen spawn the items found individually into a stream",
        "parameters": [
          {
            "name": "X-Track-Request-Id",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Ts",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Ts",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "X-Track-Caller",
            "in": "header",
            "required": true,
            "description": "Track information: track.caller",
            "schema": {
              "type": "string",
              "default": "test.caller"
            }
          },
          {
            "name": "X-Track-Session-Id",
            "in": "header",
            "required": true,
            "description": "Track information: track.session_id",
            "schema": {
              "type": "string",
              "default": "test.session_id"
            }
          }
        ],
        "requestBody": {
          "description": "Items to read concurrently",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ItemsInfo"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Number of items spawned (0,1 or 2)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "collector.collect_spawn"
                  ],
                  "properties": {
                    "collector.collect_spawn": {
                      "type": "integer"
                    }
                  },
                  "description": "collector.collect_spawn integer payload"
                }
              }
            }
          }
        },
        "tags": [
          "simple_example.0x13"
        ],
        "security": [
          {
            "auth.bearer": []
          }
        ]
      }
    },
    "/api/simple-example/0x13/shuffle/spawn-event": {
      "post": {
        "summary": "Simple Example: Spawn Event",
        "description": "This example will spawn 3 data events, those are going to be send to a stream using SHUFFLE\nand processed in asynchronously / in parallel if multiple nodes are available",
        "parameters": [
          {
            "name": "X-Track-Request-Id",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Ts",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Ts",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "X-Track-Caller",
            "in": "header",
            "required": true,
            "description": "Track information: track.caller",
            "schema": {
              "type": "string",
              "default": "test.caller"
            }
          },
          {
            "name": "X-Track-Session-Id",
            "in": "header",
            "required": true,
            "description": "Track information: track.session_id",
            "schema": {
              "type": "string",
              "default": "test.session_id"
            }
          }
        ],
        "requestBody": {
          "description": "Something object to submitted several times to stream",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Something"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "events submitted successfully message",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "shuffle.spawn_event"
                  ],
                  "properties": {
                    "shuffle.spawn_event": {
                      "type": "string"
                    }
                  },
                  "description": "shuffle.spawn_event string payload"
                }
              }
            }
          }
        },
        "tags": [
          "simple_example.0x13"
        ],
        "security": [
          {
            "auth.bearer": []
          }
        ]
      }
    },
    "/api/simple-example/0x13/shuffle/parallelize-event": {
      "post": {
        "summary": "Simple Example: Parallelize Event",
        "description": "This example will spawn 2 copies of payload data, those are going to be send to a stream using SHUFFLE\nand processed in asynchronously / in parallel if multiple nodes are available,\nthen submitted to other stream to be updated and saved",
        "parameters": [
          {
            "name": "X-Track-Request-Id",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Ts",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Ts",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "X-Track-Caller",
            "in": "header",
            "required": true,
            "description": "Track information: track.caller",
            "schema": {
              "type": "string",
              "default": "test.caller"
            }
          },
          {
            "name": "X-Track-Session-Id",
            "in": "header",
            "required": true,
            "description": "Track information: track.session_id",
            "schema": {
              "type": "string",
              "default": "test.session_id"
            }
          }
        ],
        "requestBody": {
          "description": "Something object to forked and submitted to be processed concurrently",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Something"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "events submitted successfully message",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "shuffle.parallelize_event"
                  ],
                  "properties": {
                    "shuffle.parallelize_event": {
                      "type": "string"
                    }
                  },
                  "description": "shuffle.parallelize_event string payload"
                }
              }
            }
          }
        },
        "tags": [
          "simple_example.0x13"
        ],
        "security": [
          {
            "auth.bearer": []
          }
        ]
      }
    },
    "/api/simple-example/0x13/basic-auth/0x13/login": {
      "get": {
        "summary": "Basic Auth: Login",
        "description": "Handles users login using basic-auth\nand generate access tokens for external services invoking apps\nplugged in with basic-auth plugin.",
        "parameters": [
          {
            "name": "X-Track-Request-Id",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Ts",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Ts",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "X-Track-Caller",
            "in": "header",
            "required": true,
            "description": "Track information: track.caller",
            "schema": {
              "type": "string",
              "default": "test.caller"
            }
          },
          {
            "name": "X-Track-Session-Id",
            "in": "header",
            "required": true,
            "description": "Track information: track.session_id",
            "schema": {
              "type": "string",
              "default": "test.session_id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Authentication information to be used for further API calls",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthInfo"
                }
              }
            }
          },
          "401": {
            "description": "Login failed, invalid credentials",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInfo"
                }
              }
            }
          }
        },
        "tags": [
          "simple_example.0x13"
        ],
        "security": [
          {
            "auth.basic": []
          }
        ]
      }
    },
    "/api/simple-example/0x13/basic-auth/0x13/refresh": {
      "get": {
        "summary": "Basic Auth: Refresh",
        "description": "This event can be used for obtain new access token and update refresh token (http cookie),\nwith no need to re-login the user if there is a valid refresh token active.",
        "parameters": [
          {
            "name": "X-Track-Request-Id",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Ts",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Ts",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "X-Track-Caller",
            "in": "header",
            "required": true,
            "description": "Track information: track.caller",
            "schema": {
              "type": "string",
              "default": "test.caller"
            }
          },
          {
            "name": "X-Track-Session-Id",
            "in": "header",
            "required": true,
            "description": "Track information: track.session_id",
            "schema": {
              "type": "string",
              "default": "test.session_id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Refreshed authentication information to be used for further API calls",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthInfo"
                }
              }
            }
          },
          "401": {
            "description": "Login failed, invalid credentials. An http-cookie is expected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInfo"
                }
              }
            }
          }
        },
        "tags": [
          "simple_example.0x13"
        ],
        "security": [
          {
            "simple_example.0x13.refresh": []
          }
        ]
      }
    },
    "/api/simple-example/0x13/basic-auth/0x13/logout": {
      "get": {
        "summary": "Basic Auth: Logout",
        "description": "Invalidates previous refresh cookies.",
        "parameters": [
          {
            "name": "X-Track-Request-Id",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Track-Request-Ts",
            "in": "header",
            "required": false,
            "description": "Track information: Request-Ts",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "X-Track-Caller",
            "in": "header",
            "required": true,
            "description": "Track information: track.caller",
            "schema": {
              "type": "string",
              "default": "test.caller"
            }
          },
          {
            "name": "X-Track-Session-Id",
            "in": "header",
            "required": true,
            "description": "Track information: track.session_id",
            "schema": {
              "type": "string",
              "default": "test.session_id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Logged out message.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "logout"
                  ],
                  "properties": {
                    "logout": {
                      "type": "string"
                    }
                  },
                  "description": "logout string payload"
                }
              }
            }
          },
          "401": {
            "description": "Login failed, invalid credentials or not logged in.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInfo"
                }
              }
            }
          }
        },
        "tags": [
          "simple_example.0x13"
        ],
        "security": [
          {
            "simple_example.0x13.refresh": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "ErrorInfo": {
        "type": "object",
        "required": [
          "msg",
          "tb"
        ],
        "properties": {
          "msg": {
            "type": "string"
          },
          "tb": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "x-module-name": "hopeit.server.errors",
        "description": "\n    Error information to be returned in failed responses\n    "
      },
      "ContextUserInfo": {
        "type": "object",
        "required": [
          "id",
          "user",
          "email"
        ],
        "properties": {
          "id": {
            "type": "string"
          },
          "user": {
            "type": "string"
          },
          "email": {
            "type": "string"
          }
        },
        "x-module-name": "hopeit.basic_auth",
        "description": "\n    User info that will be available in context during events execution\n    "
      },
      "AuthInfo": {
        "type": "object",
        "required": [
          "access_token",
          "token_type",
          "renew"
        ],
        "properties": {
          "access_token": {
            "type": "string"
          },
          "token_type": {
            "type": "string"
          },
          "renew": {
            "type": "integer"
          }
        },
        "x-module-name": "hopeit.basic_auth",
        "description": "\n    Minimal auth info that should be returned outside this app\n    "
      },
      "RuntimeAppInfo": {
        "type": "object",
        "required": [
          "servers",
          "app_config",
          "effective_events"
        ],
        "properties": {
          "servers": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ServerInfo"
            }
          },
          "app_config": {
            "$ref": "#/components/schemas/AppConfig"
          },
          "effective_events": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/EventDescriptor"
            }
          }
        },
        "x-module-name": "hopeit.config_manager",
        "description": "\n    Application config information associated to servers at runtime\n    "
      },
      "ServerInfo": {
        "type": "object",
        "required": [
          "host_name",
          "pid"
        ],
        "properties": {
          "host_name": {
            "type": "string"
          },
          "pid": {
            "type": "string"
          },
          "url": {
            "type": "string",
            "default": "in-process"
          }
        },
        "x-module-name": "hopeit.config_manager",
        "description": "\n    Server info associated with runtime apps\n    "
      },
      "AppConfig": {
        "type": "object",
        "required": [
          "app"
        ],
        "properties": {
          "app": {
            "$ref": "#/components/schemas/AppDescriptor"
          },
          "engine": {
            "$ref": "#/components/schemas/AppEngineConfig",
            "default": {
              "import_modules": null,
              "read_stream_timeout": 1000,
              "read_stream_interval": 1000,
              "default_stream_compression": "lz4",
              "default_stream_serialization": "json+base64",
              "track_headers": [
                "track.request_id",
                "track.request_ts"
              ],
              "cors_origin": null
            }
          },
          "app_connections": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/AppConnection"
            },
            "default": {}
          },
          "env": {
            "type": "object",
            "additionalProperties": {
              "type": "object",
              "additionalProperties": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  }
                ]
              }
            },
            "default": {}
          },
          "events": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/EventDescriptor"
            },
            "default": {}
          },
          "server": {
            "$ref": "#/components/schemas/ServerConfig"
          },
          "plugins": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AppDescriptor"
            },
            "default": []
          },
          "settings": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            },
            "default": {}
          },
          "effective_settings": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            }
          }
        },
        "x-module-name": "hopeit.app.config",
        "description": "\n    App Configuration container\n    "
      },
      "AppDescriptor": {
        "type": "object",
        "required": [
          "name",
          "version"
        ],
        "properties": {
          "name": {
            "type": "string"
          },
          "version": {
            "type": "string"
          }
        },
        "x-module-name": "hopeit.app.config",
        "description": "\n    App descriptor\n    "
      },
      "AppEngineConfig": {
        "type": "object",
        "properties": {
          "import_modules": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "read_stream_timeout": {
            "type": "integer",
            "default": 1000
          },
          "read_stream_interval": {
            "type": "integer",
            "default": 1000
          },
          "default_stream_compression": {
            "type": "string",
            "enum": [
              "none",
              "lz4",
              "lz4:0",
              "lz4:16",
              "zip",
              "zip:1",
              "zip:9",
              "gzip",
              "gzip:1",
              "gzip:9",
              "bz2",
              "bz2:1",
              "bz2:9",
              "lzma"
            ],
            "x-enum-name": "Compression",
            "x-module-name": "hopeit.app.config",
            "default": "lz4"
          },
          "default_stream_serialization": {
            "type": "string",
            "enum": [
              "json",
              "json+base64",
              "pickle:3",
              "pickle:4",
              "pickle:5"
            ],
            "x-enum-name": "Serialization",
            "x-module-name": "hopeit.app.config",
            "default": "json+base64"
          },
          "track_headers": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "default": []
          },
          "cors_origin": {
            "type": "string"
          }
        },
        "x-module-name": "hopeit.app.config",
        "description": "\n    Engine specific parameters shared among events\n\n    :field import_modules: list of string with the python module names to import to find\n        events and datatype implementations\n    :field read_stream_timeout: timeout in milliseconds to block connection pool when waiting for stream events\n    :field read_stream_interval: delay in milliseconds to wait before attempting a new batch. Use to prevent\n        connection pool to be blocked constantly.\n    :track_headers: list of required X-Track-* headers\n    :cors_origin: allowed CORS origin for web server\n    "
      },
      "AppConnection": {
        "type": "object",
        "required": [
          "name",
          "version"
        ],
        "properties": {
          "name": {
            "type": "string"
          },
          "version": {
            "type": "string"
          },
          "client": {
            "type": "string",
            "default": "<<NO CLIENT CONFIGURED>>"
          },
          "settings": {
            "type": "string"
          },
          "plugin_name": {
            "type": "string"
          },
          "plugin_version": {
            "type": "string"
          }
        },
        "x-module-name": "hopeit.app.config",
        "description": "\n    AppConnections: metadata to initialize app client in order to connect\n    and issue requests to other running apps\n\n    :field: name, str: target app name to connect to\n    :field: version, str: target app version\n    :field: client, str: hopeit.app.client.Client class implementation, from available client plugins\n    :field: settings, optional str: key under `settings` section of app config containing connection configuration,\n        if not specified, plugin will lookup its default section usually the plugin name. But in case multiple\n        clients need to be configured, this value can be overridden.\n    "
      },
      "EventDescriptor": {
        "type": "object",
        "required": [
          "type"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "GET",
              "POST",
              "STREAM",
              "SERVICE",
              "MULTIPART"
            ],
            "x-enum-name": "EventType",
            "x-module-name": "hopeit.app.config"
          },
          "plug_mode": {
            "type": "string",
            "enum": [
              "Standalone",
              "OnApp"
            ],
            "x-enum-name": "EventPlugMode",
            "x-module-name": "hopeit.app.config",
            "default": "Standalone"
          },
          "route": {
            "type": "string"
          },
          "connections": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EventConnection"
            },
            "default": []
          },
          "read_stream": {
            "$ref": "#/components/schemas/ReadStreamDescriptor"
          },
          "write_stream": {
            "$ref": "#/components/schemas/WriteStreamDescriptor"
          },
          "auth": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "Unsecured",
                "Basic",
                "Bearer",
                "Refresh"
              ],
              "x-enum-name": "AuthType",
              "x-module-name": "hopeit.server.config"
            },
            "default": []
          },
          "setting_keys": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "default": []
          }
        },
        "x-module-name": "hopeit.app.config",
        "description": "\n    Event descriptor\n    "
      },
      "EventConnection": {
        "type": "object",
        "required": [
          "app_connection",
          "event",
          "type"
        ],
        "properties": {
          "app_connection": {
            "type": "string"
          },
          "event": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "enum": [
              "GET",
              "POST"
            ],
            "x-enum-name": "EventConnectionType",
            "x-module-name": "hopeit.app.config"
          }
        },
        "x-module-name": "hopeit.app.config",
        "description": "\n    EventConnection: describes dependencies on this event when calling\n    event on apps configured in `app_connections` sections. Only events\n    specified are allowed to be invoked using `hopeit.client`\n\n    :field: app_connection, str: key of app entry used in app_connections sections\n    :field: event, str: target event_name to be called\n    :filed: type, EventConnectionType: a valid event connection type, i.e. GET or POST\n    :field: route, optional str: custom route in case event is not attached to default `app/version/event`\n    "
      },
      "ReadStreamDescriptor": {
        "type": "object",
        "required": [
          "name",
          "consumer_group"
        ],
        "properties": {
          "name": {
            "type": "string"
          },
          "consumer_group": {
            "type": "string"
          },
          "queues": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "default": [
              "AUTO"
            ]
          }
        },
        "x-module-name": "hopeit.app.config",
        "description": "\n    Configuration to read streams\n\n    :field stream_name: str, base stream name to read\n    :consumer_group: str, consumer group to send to stream processing engine to keep track of\n        next messag to consume\n    :queues: List[str], list of queue names to poll from. Each queue act as separate stream\n        with queue name used as stream name suffix, where `AUTO` queue name means to consume\n        events when no queue where specified at publish time, allowing to consume message with different\n        priorities without waiting for all events in the stream to be consumed.\n        Queues specified in this entry will be consumed by this event\n        on each poll cycle, on the order specified. If not present\n        only AUTO queue will be consumed. Take into account that in applications using multiple\n        queue names, in order to ensure all messages are consumed, all queue names should be listed\n        here including AUTO, except that the app is intentionally designed for certain events to\n        consume only from specific queues. This configuration is manual to allow consuming messages\n        produced by external apps.\n    "
      },
      "WriteStreamDescriptor": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string"
          },
          "queues": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "default": [
              "AUTO"
            ]
          },
          "queue_strategy": {
            "type": "string",
            "enum": [
              "PROPAGATE",
              "DROP"
            ],
            "x-enum-name": "StreamQueueStrategy",
            "x-module-name": "hopeit.app.config",
            "default": "DROP"
          }
        },
        "x-module-name": "hopeit.app.config",
        "description": "\n    Configuration to publish messages to a stream\n\n    :field: name, str: stream name\n    :field: queue, List[str], queue names to be used to publish to stream.\n        Each queue act as separate stream with queue name used as stream name suffix,\n        allowing to publish messages to i.e. a queue that will be consumed with priority,\n        or to multiple queues that will be consumed by different readers.\n        Queue suffix will be propagated through events, allowing an event in a defined queue\n        and successive events in following steps to be consumed using same queue name.\n        Notice that queue will be applied only to messages coming from default queue\n        (where queue is not specified at intial message creation). Messages consumed\n        from other queues will be published using same queue name as they have when consumed.\n    :field queue_stategory: strategy to be used when consuming messages from a stream\n        with a queue name and publishing to another stream. Default is `StreamQueueStrategy.DROP`,\n        so in case of complex stream propagating queue names are configured,\n        `StreamQueueStrategy.PROPAGATE` must be explicitly specified.\n    "
      },
      "ServerConfig": {
        "type": "object",
        "properties": {
          "streams": {
            "$ref": "#/components/schemas/StreamsConfig",
            "default": {
              "stream_manager": "hopeit.streams.NoStreamManager",
              "connection_str": "<<NoStreamManager>>",
              "delay_auto_start_seconds": 3
            }
          },
          "logging": {
            "$ref": "#/components/schemas/LoggingConfig",
            "default": {
              "log_level": "INFO",
              "log_path": "logs/"
            }
          },
          "auth": {
            "$ref": "#/components/schemas/AuthConfig",
            "default": {
              "secrets_location": ".secrets/",
              "auth_passphrase": "",
              "enabled": false,
              "create_keys": false,
              "domain": null,
              "encryption_algorithm": "RS256",
              "default_auth_methods": [
                "Unsecured"
              ]
            }
          },
          "api": {
            "$ref": "#/components/schemas/APIConfig",
            "default": {
              "docs_path": null
            }
          },
          "engine_version": {
            "type": "string",
            "default": "0.13.0"
          }
        },
        "x-module-name": "hopeit.server.config",
        "description": "\n    Server configuration\n    "
      },
      "StreamsConfig": {
        "type": "object",
        "properties": {
          "stream_manager": {
            "type": "string",
            "default": "hopeit.streams.NoStreamManager"
          },
          "connection_str": {
            "type": "string",
            "default": "<<NoStreamManager>>"
          },
          "delay_auto_start_seconds": {
            "type": "integer",
            "default": 3
          }
        },
        "x-module-name": "hopeit.server.config",
        "description": "\n    :field connection_str: str, url to connect to streams server: i.e. redis://localhost:6379\n    "
      },
      "LoggingConfig": {
        "type": "object",
        "properties": {
          "log_level": {
            "type": "string",
            "default": "INFO"
          },
          "log_path": {
            "type": "string",
            "default": "logs/"
          }
        },
        "x-module-name": "hopeit.server.config",
        "description": "LoggingConfig(log_level: str = 'INFO', log_path: str = 'logs/')"
      },
      "AuthConfig": {
        "type": "object",
        "required": [
          "secrets_location",
          "auth_passphrase"
        ],
        "properties": {
          "secrets_location": {
            "type": "string"
          },
          "auth_passphrase": {
            "type": "string"
          },
          "enabled": {
            "type": "boolean",
            "default": true
          },
          "create_keys": {
            "type": "boolean",
            "default": false
          },
          "domain": {
            "type": "string"
          },
          "encryption_algorithm": {
            "type": "string",
            "default": "RS256"
          },
          "default_auth_methods": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "Unsecured",
                "Basic",
                "Bearer",
                "Refresh"
              ],
              "x-enum-name": "AuthType",
              "x-module-name": "hopeit.server.config"
            },
            "default": []
          }
        },
        "x-module-name": "hopeit.server.config",
        "description": "\n    Server configuration to handle authorization tokens\n    "
      },
      "APIConfig": {
        "type": "object",
        "properties": {
          "docs_path": {
            "type": "string"
          }
        },
        "x-module-name": "hopeit.server.config",
        "description": "\n    Config for Open API docs page\n    "
      },
      "RuntimeApps": {
        "type": "object",
        "required": [
          "apps"
        ],
        "properties": {
          "apps": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/RuntimeAppInfo"
            }
          },
          "server_status": {
            "type": "object",
            "additionalProperties": {
              "type": "string",
              "enum": [
                "ALIVE",
                "ERROR"
              ],
              "x-enum-name": "ServerStatus",
              "x-module-name": "hopeit.config_manager"
            },
            "default": {}
          }
        },
        "x-module-name": "hopeit.config_manager",
        "description": "\n    Combined App Config and Server Status information for running apps\n    "
      },
      "User": {
        "type": "object",
        "required": [
          "id",
          "name"
        ],
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        },
        "x-module-name": "model",
        "description": "User information"
      },
      "Status": {
        "type": "object",
        "required": [
          "ts",
          "type"
        ],
        "properties": {
          "ts": {
            "type": "string",
            "format": "date-time"
          },
          "type": {
            "type": "string",
            "enum": [
              "NEW",
              "LOADED",
              "SUBMITTED",
              "PROCESSED"
            ],
            "x-enum-name": "StatusType",
            "x-module-name": "model"
          }
        },
        "x-module-name": "model",
        "description": "Status change"
      },
      "Something": {
        "type": "object",
        "required": [
          "id",
          "user"
        ],
        "properties": {
          "id": {
            "type": "string"
          },
          "user": {
            "$ref": "#/components/schemas/User"
          },
          "status": {
            "$ref": "#/components/schemas/Status"
          },
          "history": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Status"
            },
            "default": []
          }
        },
        "x-module-name": "model",
        "description": "Example Something event"
      },
      "SomethingNotFound": {
        "type": "object",
        "required": [
          "path",
          "id"
        ],
        "properties": {
          "path": {
            "type": "string"
          },
          "id": {
            "type": "string"
          }
        },
        "x-module-name": "model",
        "description": "Item not found in datastore"
      },
      "SomethingParams": {
        "type": "object",
        "required": [
          "id",
          "user"
        ],
        "properties": {
          "id": {
            "type": "string"
          },
          "user": {
            "type": "string"
          }
        },
        "x-module-name": "model",
        "description": "Params to create and save Something"
      },
      "ItemsInfo": {
        "type": "object",
        "required": [
          "item1_id",
          "item2_id"
        ],
        "properties": {
          "item1_id": {
            "type": "string"
          },
          "item2_id": {
            "type": "string"
          }
        },
        "x-module-name": "model",
        "description": "\n    Items to read concurrently\n    "
      }
    },
    "securitySchemes": {
      "auth.basic": {
        "type": "http",
        "scheme": "basic"
      },
      "auth.bearer": {
        "type": "http",
        "scheme": "bearer"
      },
      "simple_example.0x13.refresh": {
        "type": "apiKey",
        "in": "cookie",
        "name": "simple_example.0x13.refresh"
      }
    }
  },
  "security": [
    {
      "auth.bearer": []
    }
  ]
}